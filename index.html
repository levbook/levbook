<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Авторика — читать книги</title>

<style>
:root{
  --bg:#0f0f0f;
  --card:#1c1c1c;
  --text:#f2f2f2;
  --muted:#9a9a9a;
  --accent:#1d9bf0;
}
body{
  margin:0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont;
  background:var(--bg);
  color:var(--text);
}
header{
  padding:20px;
  text-align:center;
  border-bottom:1px solid #222;
}
nav{
  display:flex;
  justify-content:center;
  gap:24px;
  padding:12px;
  background:#141414;
}
nav button{
  background:none;
  border:none;
  color:var(--text);
  font-size:16px;
}
section{display:none;padding:16px}
section.active{display:block}
.card{
  background:var(--card);
  border-radius:14px;
  padding:16px;
  margin-bottom:16px;
}
.book-title{
  font-size:18px;
  font-weight:600;
}
.author{
  display:flex;
  align-items:center;
  gap:6px;
  color:var(--muted);
  margin-top:4px;
}
.like-btn{
  margin-top:12px;
  background:none;
  border:1px solid #333;
  color:var(--text);
  padding:8px 14px;
  border-radius:20px;
  font-size:15px;
}
footer{
  text-align:center;
  color:#666;
  padding:20px;
}

/* Галочка */
.verify{
  width:16px;
  height:16px;
}
</style>
</head>

<body>

<header>
  <h1>Авторика</h1>
  <p style="color:var(--muted)">Платформа для писателей и читателей</p>
</header>

<nav>
  <button onclick="openTab('feed')">Лента</button>
  <button onclick="openTab('read')">Читать</button>
  <button onclick="openTab('authors')">Авторы</button>
</nav>

<section id="feed" class="active"></section>
<section id="read"></section>
<section id="authors"></section>

<footer>© Авторика</footer>

<script>
// ===== АДМИН НАСТРОЙКИ =====
const verifiedAuthors = ["Алекс Ворон"];

const books = [
  {
    title:"Тень Севера",
    author:"Алекс Ворон",
    text:"Глава 1\n\nХолодный ветер бил в лицо..."
  },
  {
    title:"Новая история",
    author:"Новый Автор",
    text:"История начинается здесь..."
  }
];
// ===========================

// SVG галочка
const verifyIcon = `
<svg class="verify" viewBox="0 0 24 24" fill="none">
<path d="M22 12c0 5.52-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2s10 4.48 10 10z" fill="#1d9bf0"/>
<path d="M10.5 13.5l-2-2 1.4-1.4 0.6 0.6 3.6-3.6 1.4 1.4-5 5z" fill="white"/>
</svg>
`;

function verified(name){
  return verifiedAuthors.includes(name) ? verifyIcon : "";
}

function openTab(id){
  document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

// Лента
const feed = document.getElementById("feed");
books.forEach((b,i)=>{
  feed.innerHTML += `
  <div class="card" onclick="openBook(${i})">
    <div class="book-title">${b.title}</div>
    <div class="author">
      ${b.author}
      ${verified(b.author)}
    </div>
  </div>`;
});

// Чтение
function openBook(i){
  openTab("read");
  let likes = localStorage.getItem("like"+i) || 0;
  read.innerHTML = `
  <div class="card">
    <h2>${books[i].title}</h2>
    <div class="author">
      ${books[i].author}
      ${verified(books[i].author)}
    </div>
    <pre style="white-space:pre-wrap;margin-top:14px">${books[i].text}</pre>
    <button class="like-btn" onclick="like(${i})">
      ❤️ <span id="l${i}">${likes}</span>
    </button>
  </div>`;
}

// Лайки
function like(i){
  let l = localStorage.getItem("like"+i) || 0;
  l++;
  localStorage.setItem("like"+i,l);
  document.getElementById("l"+i).innerText = l;
}

// Авторы
const authors = document.getElementById("authors");
[...new Set(books.map(b=>b.author))].forEach(a=>{
  authors.innerHTML += `
  <div class="card">
    <div class="author">
      <strong>${a}</strong>
      ${verified(a)}
    </div>
  </div>`;
});
</script>

</body>
</html>
